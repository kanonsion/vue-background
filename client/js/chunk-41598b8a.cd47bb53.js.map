{"version":3,"sources":["webpack:///./src/views/User/userList.vue?7d48","webpack:///./src/views/User/userDialog.vue?1423","webpack:///src/views/User/userDialog.vue","webpack:///./src/views/User/userDialog.vue?caac","webpack:///./src/views/User/userDialog.vue","webpack:///src/views/User/userList.vue","webpack:///./src/views/User/userList.vue?148f","webpack:///./src/views/User/userList.vue","webpack:///./src/api/account.js","webpack:///./src/utils/filter.js","webpack:///./src/views/User/userList.vue?be88"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","list","dateFormat","scopedSlots","_u","key","fn","scope","on","$event","handleEdit","$index","row","_v","handleDelete","staticClass","paginations","currentPage","pageSizes","pageSize","layout","total","handleSizeChange","handleCurrentChange","dialog","form","_profile","handleClose","staticRenderFns","show","title","$set","ref","add","rules1","rules2","formLabelWidth","model","value","callback","$$v","expression","_s","_e","slot","resetForm","addForm","validatorName","rule","test","Error","validateRepwd","password","dialogFormVisible","name","required","message","trigger","min","max","validator","email","type","repassword","identity","methods","formname","$refs","resetFields","setTimeout","console","log","validate","valid","_register","_updateUser","$emit","$message","error","id","props","Object","component","filterList","filtetime","filtename","components","userdialog","data","isCollapse","asideWidth","page","user","cellValue","index","_id","val","filter","item","time","formateDate","date","indexOf","Date","getTime","register","params","login","users","deleteUser","updateUser","upload","imgDel","year","getFullYear","month","getMonth","day","getDate"],"mappings":"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","file":"js/chunk-41598b8a.cd47bb53.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-main',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"date\",\"label\":\"日期\",\"formatter\":_vm.dateFormat}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"用户名\"}}),_c('el-table-column',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\"}}),_c('el-table-column',{attrs:{\"prop\":\"identity\",\"label\":\"身份\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button-group',[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])],1)]}}])})],1),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.paginations.currentPage,\"page-sizes\":_vm.paginations.pageSizes,\"page-size\":_vm.paginations.pageSize,\"layout\":_vm.paginations.layout,\"total\":_vm.paginations.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('userdialog',{attrs:{\"dialog\":_vm.dialog,\"form\":_vm.form},on:{\"updatePage\":_vm._profile,\"close\":_vm.handleClose}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"visible\":_vm.dialog.show,\"title\":_vm.dialog.title,\"width\":\"500px\"},on:{\"update:visible\":function($event){return _vm.$set(_vm.dialog, \"show\", $event)}}},[_c('el-form',{ref:\"dialog\",attrs:{\"model\":_vm.form,\"rules\":_vm.dialog.add ? _vm.rules1 : _vm.rules2,\"status-icon\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"name\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户名\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}},[_vm._v(_vm._s(_vm.dialog.row))])],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":\"请输入邮箱\"},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}})],1),(_vm.dialog.add)?_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1):_vm._e(),(_vm.dialog.add)?_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"repassword\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请确认密码\"},model:{value:(_vm.form.repassword),callback:function ($$v) {_vm.$set(_vm.form, \"repassword\", $$v)},expression:\"form.repassword\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"操作人\",\"prop\":\"identity\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{model:{value:(_vm.form.identity),callback:function ($$v) {_vm.$set(_vm.form, \"identity\", $$v)},expression:\"form.identity\"}},[_c('el-option',{attrs:{\"label\":\"管理员\",\"value\":\"管理员\",\"placeholder\":\"请选择活动区域\"}}),_c('el-option',{attrs:{\"label\":\"普通用户\",\"value\":\"普通用户\"}})],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('dialog')}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addForm('dialog')}}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-dialog :visible.sync=\"dialog.show\" :title=\"dialog.title\" width=\"500px\">\r\n      <el-form\r\n        :model=\"form\"\r\n        :rules=\"dialog.add ? rules1 : rules2\"\r\n        ref=\"dialog\"\r\n        status-icon\r\n      >\r\n        <el-form-item label=\"用户名\" prop=\"name\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"form.name\" placeholder=\"请输入用户名\">{{\r\n            dialog.row\r\n          }}</el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" prop=\"email\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"form.email\" placeholder=\"请输入邮箱\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"密码\"\r\n          prop=\"password\"\r\n          :label-width=\"formLabelWidth\"\r\n          v-if=\"dialog.add\"\r\n        >\r\n          <el-input\r\n            v-model=\"form.password\"\r\n            type=\"password\"\r\n            placeholder=\"请输入密码\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"确认密码\"\r\n          prop=\"repassword\"\r\n          :label-width=\"formLabelWidth\"\r\n          v-if=\"dialog.add\"\r\n        >\r\n          <el-input\r\n            v-model=\"form.repassword\"\r\n            type=\"password\"\r\n            placeholder=\"请确认密码\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"操作人\"\r\n          prop=\"identity\"\r\n          :label-width=\"formLabelWidth\"\r\n        >\r\n          <el-select v-model=\"form.identity\">\r\n            <el-option\r\n              label=\"管理员\"\r\n              value=\"管理员\"\r\n              placeholder=\"请选择活动区域\"\r\n            ></el-option>\r\n            <el-option label=\"普通用户\" value=\"普通用户\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"resetForm('dialog')\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addForm('dialog')\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { register, updateUser } from \"@/api/account\";\r\n/* import { Message } from \"element-ui\"; */\r\nexport default {\r\n  data() {\r\n    var validatorName = (rule, value, callback) => {\r\n      if (!/^[A-Za-z0-9_\\-\\u4e00-\\u9fa5]+$/.test(value)) {\r\n        callback(new Error(\"用户名包含非法字符\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    var validateRepwd = (rule, value, callback) => {\r\n      if (value != this.form.password) {\r\n        callback(new Error(\"两次密码输入不正确\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      dialogFormVisible: false,\r\n      formLabelWidth: \"120px\",\r\n      rules1: {\r\n        name: [\r\n          //trigger 触发时机\r\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\r\n          { min: 3, max: 8, message: \"长度在 3 到 5 个字符\", trigger: \"blur\" },\r\n          { validator: validatorName, trigger: \"blur\" },\r\n        ],\r\n        email: [\r\n          { required: true, message: \"请输入邮箱地址\", trigger: \"blur\" },\r\n          { type: \"email\", message: \"邮箱格式不正确\", trigger: \"blur\" },\r\n        ],\r\n        password: [{ required: true, message: \"请输入密码\", trigger: \"blur\" }],\r\n        repassword: [\r\n          { required: true, message: \"请确认密码\", trigger: \"blur\" },\r\n          { validator: validateRepwd, trigger: \"blur\" },\r\n        ],\r\n        identity: [\r\n          { required: true, message: \"请选择操作人\", trigger: \"change\" },\r\n        ],\r\n      },\r\n      rules2: {\r\n        name: [\r\n          //trigger 触发时机\r\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\r\n          { min: 3, max: 8, message: \"长度在 3 到 5 个字符\", trigger: \"blur\" },\r\n          { validator: validatorName, trigger: \"blur\" },\r\n        ],\r\n        email: [\r\n          { required: true, message: \"请输入邮箱地址\", trigger: \"blur\" },\r\n          { type: \"email\", message: \"邮箱格式不正确\", trigger: \"blur\" },\r\n        ],\r\n        identity: [\r\n          { required: true, message: \"请选择操作人\", trigger: \"change\" },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    resetForm(formname) {\r\n      this.$refs[formname].resetFields();\r\n      setTimeout(() => {\r\n        this.dialog.show = false;\r\n      }, 0);\r\n    },\r\n    addForm(formname) {\r\n      console.log(this.form);\r\n      this.$refs[formname].validate((valid) => {\r\n        console.log(valid);\r\n        if (valid) {\r\n          if (formname === \"add\") {\r\n            this._register();\r\n          } else if (formname === \"edit\") {\r\n            this._updateUser();\r\n          }\r\n        }\r\n        this.$emit(\"updatePage\");\r\n        setTimeout(() => {\r\n          this.dialog.show = false;\r\n        }, 0);\r\n      });\r\n    },\r\n    async _register() {\r\n      try {\r\n        await register(this.form);\r\n        this.$message({\r\n          message: \"添加成功\",\r\n          type: \"success\",\r\n        });\r\n      } catch (error) {\r\n        this.$message({\r\n          message: \"错误\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n    },\r\n    async _updateUser() {\r\n      try {\r\n        await updateUser(this.dialog.id, this.form);\r\n        this.$message({\r\n          message: \"更新成功\",\r\n          type: \"success\",\r\n        });\r\n      } catch (error) {\r\n        this.$message({\r\n          message: \"错误\",\r\n          type: \"error\",\r\n        });\r\n      }\r\n    },\r\n    handleClose() {\r\n      this.$emit(\"close\");\r\n      this.$refs[\"dialog\"].resetFields();\r\n    },\r\n  },\r\n  props: {\r\n    dialog: {\r\n      type: Object,\r\n    },\r\n    form: {\r\n      type: Object,\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userDialog.vue?vue&type=template&id=673ce41e&\"\nimport script from \"./userDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./userDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <el-main>\r\n    <el-table :data=\"list\" border style=\"width: 100%;\">\r\n      <el-table-column\r\n        prop=\"date\"\r\n        label=\"日期\"\r\n        :formatter=\"dateFormat\"\r\n      ></el-table-column>\r\n      <el-table-column prop=\"name\" label=\"用户名\"></el-table-column>\r\n      <el-table-column prop=\"email\" label=\"邮箱\"></el-table-column>\r\n      <el-table-column prop=\"identity\" label=\"身份\"></el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button-group>\r\n            <el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\"\r\n              >编辑</el-button\r\n            >\r\n            <el-button\r\n              size=\"mini\"\r\n              type=\"danger\"\r\n              @click=\"handleDelete(scope.$index, scope.row)\"\r\n              >删除</el-button\r\n            >\r\n          </el-button-group>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div class=\"pagination\">\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"paginations.currentPage\"\r\n        :page-sizes=\"paginations.pageSizes\"\r\n        :page-size=\"paginations.pageSize\"\r\n        :layout=\"paginations.layout\"\r\n        :total=\"paginations.total\"\r\n      ></el-pagination>\r\n    </div>\r\n    <userdialog\r\n      :dialog=\"dialog\"\r\n      :form=\"form\"\r\n      @updatePage=\"_profile\"\r\n      @close=\"handleClose\"\r\n    />\r\n  </el-main>\r\n</template>\r\n\r\n<script>\r\nimport userdialog from \"./userDialog\";\r\nimport { users, deleteUser } from \"@/api/account\";\r\nimport { dateFormat } from \"@/utils/filter\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      list: [],\r\n      filterList: [],\r\n      dialog: {\r\n        show: false,\r\n      },\r\n      form: {},\r\n      paginations: {\r\n        pageSize: 5,\r\n        total: 0,\r\n        pageSizes: [5, 10, 15, 20],\r\n        layout: \"total, sizes, prev, pager, next\",\r\n        currentPage: 1,\r\n      },\r\n      filtetime: \"\",\r\n      filtename: \"\",\r\n    };\r\n  },\r\n  components: {\r\n    userdialog,\r\n  },\r\n  methods: {\r\n    handleollapse(data) {\r\n      this.isCollapse = data;\r\n      if (data) {\r\n        this.asideWidth = 65;\r\n      } else {\r\n        this.asideWidth = 200;\r\n      }\r\n    },\r\n    async _profile(page, pageSize) {\r\n      let list = await users({\r\n        page: page,\r\n        pageSize: pageSize,\r\n      });\r\n      this.paginations.total = list.total;\r\n      this.list = list.user;\r\n    },\r\n    dateFormat(cellValue) {\r\n      return dateFormat(cellValue);\r\n    },\r\n    async handleDelete(index, row) {\r\n      let id = row[\"_id\"];\r\n      await deleteUser(id);\r\n      this._profile(this.paginations.currentPage, this.paginations.pageSize);\r\n    },\r\n    handleEdit(index, row) {\r\n      this.dialog = {\r\n        show: true,\r\n        title: \"用户编辑\",\r\n        add: false,\r\n        ref: \"edit\",\r\n        id: row._id,\r\n      };\r\n      this.form = {\r\n        name: row.name,\r\n        email: row.email,\r\n        identity: row.identity,\r\n      };\r\n    },\r\n    handleAdd() {\r\n      this.form = {};\r\n      this.dialog = {\r\n        show: true,\r\n        title: \"添加用户\",\r\n        add: true,\r\n        ref: \"add\",\r\n      };\r\n    },\r\n    handleSizeChange(val) {\r\n      this.paginations.pageSize = val;\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.paginations.currentPage = val;\r\n    },\r\n    handlefilter() {\r\n      this.list = this.filterList.filter((item) => {\r\n        let time = this.formateDate(item.date);\r\n        return (\r\n          (time >= this.formateDate(this.filtetime[0]) &&\r\n            time <= this.formateDate(this.filtetime[1]) &&\r\n            item.name.indexOf(this.filtename) != -1) ||\r\n          item.name.indexOf(this.filtename) != -1\r\n        );\r\n      });\r\n    },\r\n    //格式化时间\r\n    formateDate(value) {\r\n      return new Date(value).getTime();\r\n    },\r\n    handleClose() {\r\n      this.form = {};\r\n    },\r\n    //搜索高亮\r\n    /*  showDate(val) {\r\n      val = val + \"\";\r\n      if (val.indexOf(this.filtename) !== -1 && this.filtename !== \"\") {\r\n        return val.replace(\r\n          this.filtename,\r\n          '<font color=\"#409EFF\">' + this.filtename + \"</font>\"\r\n        );\r\n      }else{\r\n        return val\r\n      }\r\n    } */\r\n  },\r\n  created() {\r\n    this._profile(this.paginations.currentPage, this.paginations.pageSize);\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.row-list {\r\n  margin: 10px 0;\r\n  .filter {\r\n    display: inline;\r\n    .filter-input {\r\n      width: 200px;\r\n    }\r\n  }\r\n}\r\n.pagination {\r\n  margin: 10px 0;\r\n  text-align: right;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userList.vue?vue&type=template&id=0bdcfa7e&scoped=true&\"\nimport script from \"./userList.vue?vue&type=script&lang=js&\"\nexport * from \"./userList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./userList.vue?vue&type=style&index=0&id=0bdcfa7e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bdcfa7e\",\n  null\n  \n)\n\nexport default component.exports","import request from \"@/utils/request\";\r\n\r\n//用户注册\r\nexport const register = (params) => {\r\n  return request(\"post\", \"/users/register\", params);\r\n};\r\n\r\n//用户登录\r\nexport const login = (params) => {\r\n  return request(\"post\", \"/users/login\", params);\r\n};\r\n\r\n//用户列表\r\nexport const users = (params) => {\r\n  return request(\"post\", \"/users\", params);\r\n};\r\n\r\n//删除用户\r\nexport const deleteUser = (id) => {\r\n  return request(\"delete\", `/users/delete/${id}`);\r\n};\r\n\r\n//查询单个用户\r\nexport const queryUser = (id) => {\r\n  return request(\"post\", `/users/${id}`);\r\n};\r\n\r\n//修改用户信息\r\nexport const updateUser = (id, params) => {\r\n  return request(\"post\", `/users/edit/${id}`, params);\r\n};\r\n\r\n//编写文章\r\n\r\n//上传文件\r\nexport const upload = (params) => request(\"post\", \"/upload\", params);\r\n\r\n//删除文件\r\nexport const imgDel = (params) => request(\"post\", \"/upload/delete\", params);\r\n","export function dateFormat(cellValue) {\r\n  var date = new Date(cellValue.date);\r\n  var year = date.getFullYear();\r\n  var month = date.getMonth() + 1;\r\n  var day = date.getDate();\r\n  month < 10 ? (month = \"0\" + month) : month;\r\n  day < 10 ? (day = \"0\" + day) : day;\r\n  return year + \"-\" + month + \"-\" + day;\r\n}\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userList.vue?vue&type=style&index=0&id=0bdcfa7e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userList.vue?vue&type=style&index=0&id=0bdcfa7e&lang=scss&scoped=true&\""],"sourceRoot":""}