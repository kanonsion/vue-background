(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-790bf77e"],{"18c1":function(t,e,a){"use strict";var i=a("e545"),n=a.n(i);n.a},"7f08":function(t,e,a){"use strict";function i(t){var e=new Date(t.date),a=e.getFullYear(),i=e.getMonth()+1,n=e.getDate();return i<10&&(i="0"+i),n<10&&(n="0"+n),a+"-"+i+"-"+n}a.d(e,"a",(function(){return i}))},8020:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s})),a.d(e,"d",(function(){return o})),a.d(e,"c",(function(){return r})),a.d(e,"e",(function(){return l}));var i=a("b775");const n=()=>Object(i["a"])("get","/tag"),s=t=>Object(i["a"])("post","/tag/list",t),o=t=>Object(i["a"])("get",`/tag/delete/${t}`),r=t=>Object(i["a"])("post","/tag/add",t),l=(t,e)=>Object(i["a"])("post",`/tag/edit/${t}`,e)},e545:function(t,e,a){},f9f9:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:"","default-sort":{prop:"date"}}},[a("el-table-column",{attrs:{prop:"date",label:"日期",sortable:"",formatter:t.dateFormat}}),a("el-table-column",{attrs:{prop:"tag",label:"标签"}}),a("el-table-column",{attrs:{prop:"tagColor",label:"标签颜色"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("div",{staticClass:"tagColor",style:{background:t.row.tagColor}})]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])],1)]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":t.paginations.currentPage,"page-sizes":t.paginations.pageSizes,"page-size":t.paginations.pageSize,layout:t.paginations.layout,total:t.paginations.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"编辑",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标签"}},[a("el-input",{attrs:{placeholder:"请输入标签"},model:{value:t.form.tag,callback:function(e){t.$set(t.form,"tag",e)},expression:"form.tag"}})],1),a("el-form-item",{attrs:{label:"标签颜色"}},[a("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.form.tagColor,callback:function(e){t.$set(t.form,"tagColor",e)},expression:"form.tagColor"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t._edit}},[t._v("确 定")])],1)],1)],1)},n=[],s=a("7f08"),o=a("8020"),r={data(){return{list:[],paginations:{pageSize:5,total:0,pageSizes:[5,10,20,50],layout:"total, sizes, prev, pager, next",currentPage:1},dialogVisible:!1,form:{}}},methods:{dateFormat(t){return Object(s["a"])(t)},async _getList(t,e){let a=await Object(o["b"])({page:t,pageSize:e});this.paginations.total=a.total,this.list=a.tags},async _edit(){let t=await Object(o["e"])(this.form._id,this.form);this.form={},this.dialogVisible=!1,this._getList(this.paginations.currentPage,this.paginations.pageSize),this.$message({message:t.msg,type:"success"})},handleEdit(t,e){this.form=e,this.dialogVisible=!0},async handleDelete(t,e){let a=await Object(o["d"])(e._id);this.$message({message:a.msg,type:"success"}),this._getList(this.paginations.currentPage,this.paginations.pageSize)},handleSizeChange(t){this.paginations.currentPage=1,this.paginations.pageSize=t,this._getList(this.paginations.currentPage,this.paginations.pageSize)},handleCurrentChange(t){this.paginations.currentPage=t,this._getList(this.paginations.currentPage,this.paginations.pageSize)}},created(){this._getList(this.paginations.currentPage,this.paginations.pageSize)}},l=r,g=(a("18c1"),a("2877")),c=Object(g["a"])(l,i,n,!1,null,"17bba518",null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-790bf77e.44e469cc.js.map